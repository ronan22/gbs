(this["webpackJsonptizen-build-performance"]=this["webpackJsonptizen-build-performance"]||[]).push([[0],{595:function(e,t,a){},596:function(e,t,a){},601:function(e,t,a){},843:function(e,t,a){},975:function(e,t,a){"use strict";a.r(t);var n=a(5),i=a(0),r=a.n(i),c=a(20),l=a.n(c),s=(a(595),a(35));var o=function(e){var t=Object(i.useState)({data_home:null,metaData:null,maxDepth:null,dependsLink:null,buildTime:null,buildTimeRef:null,hwTrend:null}),a=Object(s.a)(t,2),r=a[0],c=a[1],l=(r.data_home,r.metaData),o=r.maxDepth,d=r.dependsLink,j=r.buildTime,u=r.buildTimeRef,p=(r.hwTrend,e.public_data_location+"result_meta.json"),h=e.public_data_location+"max_depth.json",m=e.public_data_location+"depends_link.json",b=e.public_data_location+"buildtime.json",f=e.public_data_location+"buildtime_ref.json",x=e.public_data_location+"hw_resource.json",v=e.public_data_location+"dep_graph/default/arch/index.html";return Object(i.useEffect)((function(){Promise.all([fetch(p),fetch(h),fetch(m),fetch(b),fetch(f),fetch(x)]).then((function(e){var t=Object(s.a)(e,6),a=t[0],n=t[1],i=t[2],r=t[3],c=t[4],l=t[5];return Promise.all([a.json(),n.json(),i.json(),r.json(),c.json(),l.json()])})).then((function(t){var a=Object(s.a)(t,6),n=a[0],i=a[1],r=a[2],l=a[3],o=a[4],d=a[5];c({data_home:e.public_data_location,metaData:n,maxDepth:i,dependsLink:r,buildTime:l,buildTimeRef:o,hwTrend:d}),function(t){var a=t;a.dependsPath=v,e.onChange(a)}({data_home:e.public_data_location,metaData:n,maxDepth:i,dependsLink:r,buildTime:l,buildTimeRef:o,hwTrend:d})}))}),[]),l&&o&&d&&j&&u?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:"All data prepared..."})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:"Loading..."})})},d=(a(596),a(71)),j=a(108),u=a(44),p=a(1032);a(435);var h=a(113);var m=function(e){return Object(n.jsx)(p.a,{compact:!0,icon:"labeled",secondary:!0,title:"Full Screen",children:Object(n.jsxs)(p.a.Item,{name:"fullscreen",active:!1,onClick:function(t,a){a.name;return function(t){var a=window.location.hostname,n=window.location.href.split(a)[0]+a+window.location.href.split(a)[1].split("/")[0]+"/"+e.deploy_url+"/index.html";window.open(n,"_blank")}()},children:[Object(n.jsx)(h.a,{name:"fullscreen"}),Object(n.jsx)("div",{style:{marginTop:"-5px"},children:"\xa0"})]})})};var b=function(e,t){var a=t.defaultActive,r=e.history.location,c=(localStorage.getItem("lastActiveItem"),Object(i.useState)({activeItem:a})),l=Object(s.a)(c,2),o=l[0],d=l[1],j=o.activeItem;Object(i.useEffect)((function(){d({activeItem:r.pathname})}),[r]);var u=function(t,a){return function(t){e.history.push({pathname:t})}(a.name)};return Object(n.jsxs)(p.a,{compact:!0,icon:"labeled",pointing:!0,secondary:!0,children:[Object(n.jsxs)(p.a.Item,{name:"/overview",active:"/overview"===j,onClick:u,children:[Object(n.jsx)(h.f,{name:"/overview"}),Object(n.jsx)("div",{style:{display:"flex",paddingTop:"5px"},children:"Overview"})]}),Object(n.jsxs)(p.a.Item,{name:"/dependencygraph",active:"/dependencygraph"===j,onClick:u,children:[Object(n.jsx)(h.b,{name:"/dependencygraph"}),Object(n.jsx)("div",{style:{paddingTop:"5px"},children:"Dependency"})]}),Object(n.jsxs)(p.a.Item,{name:"/criticalpath",active:"/criticalpath"===j,onClick:u,children:[Object(n.jsx)(h.g,{name:"/criticalpath"}),Object(n.jsx)("div",{style:{paddingTop:"5px"},children:"Critical Path"})]}),Object(n.jsxs)(p.a.Item,{name:"/buildtime",active:"/buildtime"===j,onClick:u,children:[Object(n.jsx)(h.d,{name:"/buildtime"}),Object(n.jsx)("div",{style:{paddingTop:"5px"},children:"Build Time"})]}),Object(n.jsxs)(p.a.Item,{name:"/timeline",active:"/timeline"===j,onClick:u,children:[Object(n.jsx)(h.e,{name:"/timeline"}),Object(n.jsx)("div",{style:{paddingTop:"5px"},children:"Timeline"})]}),Object(n.jsxs)(p.a.Item,{name:"/timecompare",active:"/timecompare"===j,onClick:u,children:[Object(n.jsx)(h.c,{name:"/timecompare"}),Object(n.jsx)("div",{style:{paddingTop:"5px"},children:"Compare"})]}),Object(n.jsx)(m,{deploy_url:e.deploy_url})]})};var f=function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)(b,{deploy_url:e.deploy_url,history:e.history}),Object(n.jsx)("div",{style:{display:"flex",margin:"5px"},children:Object(n.jsx)("div",{style:{backgroundColor:"#F4F6F6",width:"100%",height:"100vh",marginLeft:"10px"},children:Object(n.jsx)("div",{style:{backgroundColor:"#F4F6F6"},children:e.children})})})]})},x=a(436),v=a(1017),O=a(1019),g=a(144),y=a(154),_=a(1016),k=a(355),w=Object(x.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),T=Object(y.a)({typography:{fontFamily:["-apple-system","SFMono-Regular","Menlo,Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"].join(",")}});function D(e){var t,a,i=w();return"1"===e.happy?a="#0acf97":"0"===e.happy&&(a="#fa5c7c"),"+"===e.diff?t=Object(n.jsx)(k.b,{}):"-"===e.diff&&(t=Object(n.jsx)(k.a,{})),Object(n.jsx)("div",{style:{margin:"10px"},children:Object(n.jsx)(_.a,{theme:T,children:Object(n.jsx)(v.a,{className:i.root,variant:"outlined",children:Object(n.jsxs)(O.a,{children:[Object(n.jsx)(g.a,{variant:"h6",component:"h6",color:"textSecondary",children:e.title}),Object(n.jsx)(g.a,{className:i.pos,color:"textSecondary"}),Object(n.jsx)(g.a,{variant:"h4",component:"h4",color:"textSecondary",children:Object(n.jsx)("b",{children:e.value})}),Object(n.jsx)("div",{style:{display:"flex",marginTop:"10px"},children:Object(n.jsxs)("div",{style:{display:"flex",marginTop:"10px"},children:[Object(n.jsx)("span",{style:{color:a},children:Object(n.jsx)("div",{style:{marginTop:"5px",paddingRight:"5px"},children:Object(n.jsx)(g.a,{variant:"body1",component:"p",color:"inherit",children:t})})}),Object(n.jsx)("span",{style:{color:a},children:Object(n.jsx)("div",{children:e.diff_value})}),Object(n.jsx)("div",{style:{paddingLeft:"5px"},children:" Since reference"})]})})]})})})})}var F=Object(u.f)((function(e){var t=e.meta_data;function a(e){e<0&&(e=0-e),e=Number(e/1e3);var t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return t<10&&(t="0"+t),a<10&&(a="0"+a),n<10&&(n="0"+n),t+":"+a+":"+n}if(t){var i={total:{check:"",val:"0",happy:""},time:{check:"",val:"0",happy:""},pass:{check:"",val:"0",happy:""},fail:{check:"",val:"0",happy:""}},r=a(t.BuildDetail.RunTime);return i.total.val=t.BuildDetail.Total-t.ReferenceDetail.Total,t.BuildDetail.Total>t.ReferenceDetail.Total?(i.total.check="+",i.total.happy="0"):t.BuildDetail.Total<t.ReferenceDetail.Total&&(i.total.check="-",i.total.happy="1"),i.pass.val=t.BuildDetail.Pass-t.ReferenceDetail.Pass,t.BuildDetail.Pass>t.ReferenceDetail.Pass?(i.pass.check="+",i.pass.happy="1"):t.BuildDetail.Pass<t.ReferenceDetail.Pass&&(i.pass.check="-",i.pass.happy="0"),i.fail.val=t.BuildDetail.Fail-t.ReferenceDetail.Fail,t.BuildDetail.Fail<t.ReferenceDetail.Fail?(i.fail.check="+",i.fail.happy="1"):t.BuildDetail.Fail>t.ReferenceDetail.Fail&&(i.fail.check="-",i.fail.happy="0"),i.time.val=a(t.BuildDetail.RunTime-t.ReferenceDetail.RunTime),t.BuildDetail.RunTime<t.ReferenceDetail.RunTime?(i.time.check="-",i.time.happy="1"):t.BuildDetail.RunTime>t.ReferenceDetail.RunTime&&(i.time.check="+",i.time.happy="0"),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{style:{padding:"20px"},children:[Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(D,{title:"Total Packages",value:t.BuildDetail.Total,diff:i.total.check,diff_value:i.total.val,happy:i.total.happy}),Object(n.jsx)(D,{title:"Build Time",value:r,diff:i.time.check,diff_value:i.time.val,happy:i.time.happy})]}),Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(D,{title:"Pass",value:t.BuildDetail.Pass,diff:i.pass.check,diff_value:i.pass.val,happy:i.pass.happy}),Object(n.jsx)(D,{title:"Fail",value:t.BuildDetail.Fail,diff:i.fail.check,diff_value:i.fail.val,happy:i.fail.happy})]})]})})}return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:"Loading..."})})}));var S=Object(u.f)((function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:Object(n.jsx)(F,{meta_data:e.meta_data})})})})),C=(a(601),a(286)),R=function(e){console.log("flow loaded:",e),e.fitView()},P={30:"#DCEDC8",180:"#AED581",300:"#8BC34A",600:"#4FC3F7",900:"#03A9F4",1200:"#F7DC6F",1800:"#FFEB3B",2700:"#FBC02D",3e3:"#FF6F00",3600:"#F44336"},B=Object.keys(P).reverse();function I(e){var t,a=0,n=0;return e/60/60>0&&(a=parseInt(e/60/60)),e/60-60*a>0&&(n=parseInt(e/60-60*a)),t=e-60*a*60-60*n,a>0?a+"h "+n+"m "+t+"s":n>0?n+"m "+t+"s":t+"s"}var L=function(e){for(var t=e.critical_path,a=[],i=0;i<B.length;i++)a.push(Object(n.jsx)("span",{style:{display:"inline-block",width:"50px",marginRight:"8px",backgroundColor:P[B[i]],fontSize:"12px"},children:Object(n.jsxs)("div",{children:[B[i],"s"]})},i));if(t){var r=function(e){var t={width:"1200px",height:"1000px"},a=0,i=0,r=[],c=Object.keys(e).map((function(t){return[t,e[t].level]}));c.sort((function(e,t){return e[1]-t[1]}));for(var l=function(e){var t="#C0C0C0";for(var a in B)if(parseInt(e)>parseInt(B[a])){t=P[B[a]];break}return t},s=0;s<c.length;s++){var o=260*parseInt(s%7),d=160*parseInt(s/7),j="right",u="left";t.height=parseInt(70+.6*d).toString()+"px",6===parseInt(s%7)?(j="bottom",u="left"):0===parseInt(s%7)&&(j="right",u="top");var p="["+(s+1).toString()+"] "+c[s][0],h=e[c[s][0]].buildtime,m="("+I(h)+")";a+=e[c[s][0]].waittime,i+=h,r.push({id:s.toString(),data:{label:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{children:Object(n.jsx)("strong",{children:p})}),Object(n.jsx)("div",{children:m})]})},position:{x:o,y:d},sourcePosition:j,targetPosition:u,style:{background:l(h),color:"#333",border:"1px solid #222138",width:210}}),s<c.length-1&&r.push({id:"e"+s.toString()+"-"+(s+1).toString(),source:s.toString(),target:(s+1).toString(),style:{stroke:"red"},animated:!0,labelStyle:{fill:"red",fontWeight:700}})}return{elements:r,waitSum:a,buildSum:i,style:t}}(t);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{style:{margin:"10px",padding:"10px"},children:Object(n.jsx)("div",{children:Object(n.jsx)(g.a,{variant:"h6",component:"h6",color:"textSecondary",children:"This is a list of packages located in the path with the longest build time."})})}),Object(n.jsx)("div",{style:{margin:"10px",padding:"10px"},children:Object(n.jsxs)("div",{children:[Object(n.jsxs)(g.a,{variant:"body1",component:"h4",color:"textSecondary",children:["- Total Build Time: ",I(r.buildSum)]}),Object(n.jsxs)(g.a,{variant:"body1",component:"h4",color:"textSecondary",children:["- Total Wait Time: ",I(r.waitSum)]})]})}),Object(n.jsx)("div",{style:{margin:"10px",padding:"10px"},children:Object(n.jsx)("div",{children:a})}),Object(n.jsx)("div",{style:{margin:"20px",padding:"20px"},children:Object(n.jsxs)(C.c,{elements:r.elements,onLoad:R,snapToGrid:!0,snapGrid:[15,15],style:r.style,children:[Object(n.jsx)(C.b,{}),Object(n.jsx)(C.a,{color:"#aaa",gap:16})]})})]})}return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:"Loading..."})})},M=a(564),A=a(268),E=a.n(A);var N=Object(u.f)((function(e){var t=e.build_time,a=e.build_time_ref,i=e.meta_data,r=e.data_home+"logs",c=[{name:"package",label:"Package Name"},{name:"status",label:"Build Result"},{name:"start",label:"Start Time"},{name:"end",label:"End Time"},{name:"duration",label:"In sec."},{name:"duration_ref",label:"Ref. in sec."},{name:"log",label:"Build Log",options:{filter:!1,customBodyRender:function(e,t,a){var i=window.location.hostname,c=(window.location.href.split(i)[0],window.location.href.split(i)[1].split("/")[0],r+"/"+e+"/log.txt");return Object(n.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:c,children:"Log Link"})}}}];if(t&&a&&i){var l=[],s=Object(M.a)(new Set(Object.keys(t).concat(Object.keys(a))));for(var o in s){var d=s[o],j=null,u=null,p=null,h=null,m=null,b=null;d in t&&(u=t[d].start.slice(5),p=t[d].end.slice(5),h=t[d].duration,"pass"===(m=t[d].status)?m="success":"fail"===m&&(m="fail"),b=t[d].version),d in a&&(j=a[d].duration),u&&l.push({package:d,status:m,start:u,end:p,duration:h,duration_ref:j,log:m+"/"+d+"-"+b})}return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{style:{margin:"10px",padding:"10px"},children:Object(n.jsx)("div",{children:Object(n.jsx)(g.a,{variant:"h6",component:"h6",color:"textSecondary",children:"This gives the full package build time and log link information."})})}),Object(n.jsx)("div",{style:{display:"table",margin:"20px",padding:"20px"},children:Object(n.jsx)(E.a,{title:"Package List",data:l,columns:c,options:{filter:!1,selectableRows:"multiple",filterType:"dropdown",responsive:"standard",rowsPerPage:25,selectableRowsHeader:!1,filterArrayFullMatch:!1}})})]})}return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:"Loading..."})})})),H=a(203),G=a(563),z=a(93),W=a(215),U=a.n(W);var Y=Object(u.f)((function(e){var t=e.build_time,a=e.hw_trend,i=null,r=["#6394f9","#FFA3A3","#ABEBC6"],c={formatter:function(e,t,a){return U()(e).format("HH:mm:ss")}};function l(e,t){return parseInt(e/1e3/t)*t*1e3}if(t&&a){var s=10,o=null,d=null;for(var j in t){var u=new Date(t[j].start),p=new Date(t[j].end);(null===o||o>u)&&(o=u),(null===d||d<p)&&(d=p)}o=l(o,s),d=l(d,s);for(var h=parseInt(l(d-o,s)/1e3/s)+1,m=[],b=0;b<h;b++){var f=new Date(o);f.setSeconds(f.getSeconds()+b*s),m.push({time:f,threads:0,cpu:0,memory:0})}for(var x in t)for(var v=new Date(t[x].start),O=new Date(t[x].end),g=parseInt(l(v-o,s)/1e3/s),y=parseInt(l(O-v,s)/1e3/s),_=0;_<y;_++)m[g+_].threads+=1;for(var k=0;k<a.length;k++){var w=parseInt(l(1e3*a[k][0]-o,s)/1e3/s),T=a[k][1].toFixed(2),D=a[k][2].toFixed(2);w<0||(w>=m.length-1||(m[w].cpu=T,m[w].memory=D))}return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(z.Chart,{scale:{cpu:{alias:"CPU (%)_____________",tickCount:5,min:0,type:"linear-strict"},memory:{alias:"___________Mem (GB)",tickCount:5,min:0,type:"linear-strict"},threads:{alias:"Running Threads (No.)",tickCount:5,min:0,type:"linear-strict"},time:{alias:"Time (seconds) ",type:"timeCat",mask:"YYYY-MM-DD HH:mm:ss"}},autoFit:!0,height:200,data:m,area:!0,onGetG2Instance:function(e){i=e},children:[Object(n.jsx)(z.Axis,{name:"threads",title:!0}),Object(n.jsx)(z.Axis,{name:"cpu",title:!0}),Object(n.jsx)(z.Axis,{name:"memory",title:!0}),Object(n.jsx)(z.Axis,{name:"time",title:!0,label:c}),Object(n.jsx)(z.Legend,{custom:!0,allowAllCanceled:!0,items:[{value:"threads",name:"No. of threads",marker:{symbol:"hyphen",style:{stroke:r[0],r:5,lineWidth:3}}},{value:"memory",name:"Memory usage (GB)",marker:{symbol:"hyphen",style:{stroke:r[2],r:5,lineWidth:3}}},{value:"cpu",name:"CPU usage (%)",marker:{symbol:"hyphen",style:{stroke:r[1],r:5,lineWidth:3}}}],onChange:function(e){for(var t=e.item,a=t.value,n=!t.unchecked,r=i.geometries,c=0;c<r.length;c++){var l=r[c];l.getYScale().field===a&&(n?l.show():l.hide())}}}),Object(n.jsx)(z.Tooltip,{shared:!0,showCrosshairs:!0}),Object(n.jsx)(z.LineAdvance,{position:"time*threads",color:r[0],size:1,area:!0,tooltip:["time*threads",function(e,t){var a=U()(e).format("MM-DD HH:mm:ss");return{name:"No. of Threads",value:"# ".concat(t),title:a}}]}),Object(n.jsx)(z.LineAdvance,{position:"time*memory",color:r[2],size:1,area:!0,tooltip:["time*memory",function(e,t){var a=U()(e).format("MM-DD HH:mm:ss");return{name:"Memory Usage",value:"".concat(t," GB"),title:a}}]}),Object(n.jsx)(z.LineAdvance,{position:"time*cpu",color:r[1],size:1,area:!0,tooltip:["time*cpu",function(e,t){var a=U()(e).format("MM-DD HH:mm:ss");return{name:"CPU Utilization",value:"".concat(t," %"),title:a}}]})]})})}return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:"Loading..."})})}));a(843);function K(e){var t=function(e){for(var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=3735928559^a,i=1103547991^a,r=0;r<e.length;r++)t=e.charCodeAt(r),n=Math.imul(n^t,2654435761),i=Math.imul(i^t,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),4294967296*(2097151&(i=Math.imul(i^i>>>16,2246822507)^Math.imul(n^n>>>13,3266489909)))+(n>>>0)}(e+e);return"#"+((255&t)>>0).toString(16).padStart(2,"0")+((16711680&t)>>16).toString(16).padStart(2,"0")+((65280&t)>>8).toString(16).padStart(2,"0")}var V=Object(u.f)((function(e){var t=e.build_time,a=e.hw_trend,r=Object(i.useRef)(null),c=Object(i.useRef)(null),l=function(e){var t=[{group:"",data:[]}],a=[],n=null,i=null;for(var r in e){var c=e[r].thread;a.includes(c)||(a.push(c),t[0].data.push({label:"".concat(c),data:[]}));var l=new Date(e[r].start).getTime(),s=new Date(e[r].end).getTime();(null===n||l<n)&&(n=l),(null===i||s>i)&&(i=s)}for(var r in e){var o=e[r].thread,d=new Date(e[r].start).getTime(),j=new Date(e[r].end).getTime(),u=a.indexOf(o);t[0].data[u].data.push({timeRange:[d,j],val:r})}return{data:t,min_start:n}}(e.build_time),s=l.data,o=l.min_start,d=Object(H.a)().domain(Object.keys(t).sort()).range(Object.keys(t).sort().map((function(e){return K(e)})));return Object(i.useEffect)((function(){c.current=(new G.a).data(s)(r.current),c.current.zColorScale(d).xTickFormat((function(e){return parseInt((e.getTime()-o)/1e3/60)+"\ubd84"})).width(1300).timeFormat("%H:%M:%S").segmentTooltipContent((function(e){return function(e){var t=e.val,a=e.timeRange[0],n=e.timeRange[1];return"<strong>[ "+t+" ]</strong></br><strong>Duration</strong> "+(n.getTime()-a.getTime())/1e3+" sec.</br><strong>Thread:</strong> "+e.label+"</br><strong>Start:</strong> "+a.toLocaleTimeString()+"</br><strong>End:</strong> "+n.toLocaleTimeString()}(e)}))}),[]),Object(i.useEffect)((function(){})),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{style:{margin:"10px",padding:"10px"},children:Object(n.jsx)("div",{children:Object(n.jsx)(g.a,{variant:"h6",component:"h6",color:"textSecondary",children:"This is a chart showing the distribution of overall package build times."})})}),Object(n.jsx)("div",{style:{width:"1210px",marginLeft:"5px"},children:Object(n.jsx)("div",{ref:r})}),Object(n.jsx)("div",{style:{width:"1210px",marginLeft:"50px"},children:Object(n.jsx)(Y,{build_time:t,hw_trend:a})})]})})),J=a(545),Q=a(546),q=a(547),X=a(565),Z=a(1033),$=a(1031),ee=a(560),te=a(561),ae=a(288),ne=a(213),ie=a(566),re=function(e){Object(q.a)(a,e);var t=Object(X.a)(a);function a(){return Object(J.a)(this,a),t.apply(this,arguments)}return Object(Q.a)(a,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,i=(e.stroke,e.payload);return Object(n.jsx)("g",{transform:"translate(".concat(t,",").concat(a,")"),children:Object(n.jsx)("text",{x:0,y:0,dy:4,textAnchor:"end",fill:"#666",fontSize:12,transform:"rotate(-35)",children:i.value})})}}]),a}(i.PureComponent);var ce=Object(u.f)((function(e){var t=e.build_time,a=e.build_time_ref;if(t&&a){var i=[];for(var r in t){var c=0;r in a&&(c=a[r].duration),i.push({name:t[r].package,current:parseInt(t[r].duration),reference:parseInt(c)})}var l=[].concat(i).sort((function(e,t){return(e.current-e.reference)*(e.current-e.reference)>(t.current-t.reference)*(t.current-t.reference)?-1:1}));return l=l.slice(0,40).sort((function(e,t){return e.current>t.current?-1:1})),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{style:{margin:"10px",padding:"10px"},children:Object(n.jsx)("div",{children:Object(n.jsxs)(g.a,{variant:"h6",component:"h6",color:"textSecondary",children:["This graph shows the top ",40," packages with a large time difference from the previous build."]})})}),Object(n.jsxs)(Z.a,{width:1e3,height:500,margin:{top:50,right:10,left:10,bottom:10},data:l,barCategoryGap:3,barGap:0,children:[Object(n.jsx)($.a,{strokeDasharray:"3 3"}),Object(n.jsx)(ee.a,{dataKey:"name",interval:0,tick:Object(n.jsx)(re,{})}),Object(n.jsx)(te.a,{}),Object(n.jsx)(ae.a,{}),Object(n.jsx)(ne.a,{wrapperStyle:{top:10,left:25}}),Object(n.jsx)(ie.a,{dataKey:"current",fill:"#EC951F"}),Object(n.jsx)(ie.a,{dataKey:"reference",fill:"#82ca9d"})]})]})}return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:"Loading..."})})})),le=a(485),se=a(474),oe=a(1034),de=a(478),je=a(475),ue=a(348),pe=a(562);function he(e,t){var a=e;return e<300+6*t&&(a=300+6*t),a}var me=function(e){var t=null,a=Object(i.useRef)(null),r=Object(i.useRef)(null),c=function(e,t,a,n){var i={nodes:[],edges:[],max_y_offset:0},r="p";"partial"===e?r="p":"partial_reverse"===e?r="pr":"full"===e?r="f":"full_reverse"===e&&(r="fr");for(var c=0;c<n[r+"n"].length;c++){var l=n[r+"n"][c],o=n[r+"l"][c][0],d=n[r+"l"][c][2];i.max_y_offset=he(i.max_y_offset,d),i.nodes.push({id:l,label:t[l],group:o,x:200*o,y:40*d})}return Object.entries(n[r+"e"]).map((function(e){for(var t=Object(s.a)(e,2),a=t[0],n=t[1],r=0;r<n.length;r++)i.edges.push({from:a,to:n[r],arrows:"to"})})),i.network=null,i}(e.radio_type,e.package_names,e.selected_id,e.network_data),l={layout:{hierarchical:!1,improvedLayout:!1},physics:{enabled:!1},nodes:{shape:"box"},autoResize:!0,edges:{smooth:!1,width:.5}},o={scale:1.2,offset:{x:100,y:0-c.max_y_offset/3},animation:{duration:300,easingFunction:"easeInOutQuad"}};function j(e){var t=[],a=[];e>=0&&(t=r.current.getConnectedNodes(e),a=r.current.getConnectedEdges(e));var n=c.nodes.map((function(a){return-1===e||e===a.id||t.includes(a.id)?Object(d.a)(Object(d.a)({},a),{},{color:void 0}):Object(d.a)(Object(d.a)({},a),{},{color:"#F2F3F4"})})),i=c.edges.map((function(t){return-1===e||e===t.id||a.includes(t.id)?Object(d.a)(Object(d.a)({},t),{},{hidden:!1}):Object(d.a)(Object(d.a)({},t),{},{hidden:!0})}));e>=0&&r.current.focus(e,o),r.current.body.data.nodes.update(n),r.current.body.data.edges.update(i)}return Object(i.useEffect)((function(){r.current=new pe.a(a.current,c,l)}),[a,r,c,l]),Object(i.useEffect)((function(){e.searched_id&&j(e.searched_id),r.current.on("select",(function(e){var a=e.nodes;1!==t&&setTimeout((function(){1!==t?a.length>0?j(a[0]):j(-1):t=null}),200)})),r.current.on("doubleClick",(function(a){var n=a.nodes;t=1,e.onChange(n[0])}))})),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:Object(n.jsx)("div",{style:{height:c.max_y_offset.toString()+"px"},ref:a})})})};var be=function(e){var t="p";"partial"===e.radio_type?t="p":"partial_reverse"===e.radio_type?t="pr":"full"===e.radio_type?t="f":"full_reverse"===e.radio_type&&(t="fr");for(var a=[],i=0;i<e.level_data[t+"l"].length;i++){for(var r=e.level_data[t+"l"][i][0];a.length<=r;)a.push({});a[r].packages||(a[r].packages=[]),a[r].packages.push(e.package_names[e.level_data[t+"n"][i]]),a[r].level={level:r,no_packages:a[r].packages.length}}var c=[{name:"level",label:"Level",options:{filter:!1,customBodyRender:function(e,t,a){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{children:e.level}),Object(n.jsxs)("div",{children:["(",e.no_packages,")"]})]})}}},{name:"packages",label:"Packages",options:{filter:!1,customBodyRender:function(e,t,a){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:e.join(", ")})})}}}];return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{style:{display:"table",width:"96%",margin:"20px"},children:Object(n.jsx)(E.a,{title:"Package Levels",data:a,columns:c,options:{filter:!1,responsive:"standard",rowsPerPage:100}})})})},fe=Object(x.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}}));var xe=Object(u.f)((function(e){var t=fe(),a=r.a.useState("partial"),c=Object(s.a)(a,2),l=c[0],o=c[1],d=e.selected_id;d||(d=9999);var j=r.a.useState(d),u=Object(s.a)(j,2),p=u[0],h=u[1],m=Object(i.useState)({packageNameData:null,singlePackageData:null}),b=Object(s.a)(m,2),f=b[0],x=b[1],v=f.packageNameData,O=f.singlePackageData,g=r.a.useState(null),y=Object(s.a)(g,2),_=y[0],k=y[1],w=Object(i.useRef)(null);return Object(i.useEffect)((function(){!function(){var t=e.data_home+"networks/package_names.json",a=e.data_home+"networks/"+p+".json";Promise.all([fetch(t),fetch(a)]).then((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];return Promise.all([a.json(),n.json()])})).then((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];return x({packageNameData:a,singlePackageData:n})}))}()}),[p]),v&&O?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{style:{display:"flex",margin:"10px"},children:[Object(n.jsx)("div",{children:Object(n.jsx)("div",{style:{display:"flex",margin:"10px"},children:Object(n.jsxs)("div",{className:t.root,noValidate:!0,autoComplete:"off",children:[Object(n.jsx)(le.a,{id:"standard-basic",label:"Package Name",inputRef:w}),Object(n.jsx)(se.a,{style:{marginTop:"20px"},variant:"outlined",color:"primary",onClick:function(){k(v.indexOf(w.current.value))},children:"Search"})]})})}),Object(n.jsx)("div",{style:{marginLeft:"50px",border:"1px solid #cdcdcd"},children:Object(n.jsx)(ue.a,{component:"fieldset",style:{width:"100%"},children:Object(n.jsxs)(de.a,{row:!0,"aria-label":"position",name:"position",defaultValue:"top",value:l,onChange:function(e){o(e.target.value)},children:[Object(n.jsx)(je.a,{value:"partial",control:Object(n.jsx)(oe.a,{color:"primary"}),label:"Partial",labelPlacement:"bottom",checked:"partial"===l}),Object(n.jsx)(je.a,{value:"partial_reverse",control:Object(n.jsx)(oe.a,{color:"primary"}),label:"Partial Reverse",labelPlacement:"bottom",checked:"partial_reverse"===l}),Object(n.jsx)(je.a,{value:"full",control:Object(n.jsx)(oe.a,{color:"primary"}),label:"Full",labelPlacement:"bottom",checked:"full"===l}),Object(n.jsx)(je.a,{value:"full_reverse",control:Object(n.jsx)(oe.a,{color:"primary"}),label:"Full Reverse",labelPlacement:"bottom",checked:"full_reverse"===l})]})})})]}),Object(n.jsx)(me,{package_names:v,network_data:O,radio_type:l,selected_id:p,searched_id:_,onChange:function(e){k(null),h(e)}}),Object(n.jsx)(be,{package_names:v,level_data:O,radio_type:l})]})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:"Loading..."})})}));var ve=function(e){var t=e.data_prepared;return Object(n.jsx)(j.a,{children:Object(n.jsx)(u.a,{render:function(e){return Object(n.jsx)(f,Object(d.a)(Object(d.a)({},e),{},{deploy_url:t.metaData.DeployUrl,children:Object(n.jsx)("div",{children:Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{path:"/",exact:!0,render:function(){return Object(n.jsx)(S,{meta_data:t.metaData})}}),Object(n.jsx)(u.a,{path:"/overview",render:function(){return Object(n.jsx)(S,{meta_data:t.metaData})}}),Object(n.jsx)(u.a,{path:"/dependencygraph",render:function(){return Object(n.jsx)(xe,Object(d.a)(Object(d.a)({},e),{},{app_home:t.app_home,data_home:t.data_home}))}}),Object(n.jsx)(u.a,{path:"/criticalpath",render:function(){return Object(n.jsx)(L,{critical_path:t.maxDepth})}}),Object(n.jsx)(u.a,{path:"/buildtime",render:function(){return Object(n.jsx)(N,{meta_data:t.metaData,build_time:t.buildTime,build_time_ref:t.buildTimeRef,data_home:t.data_home})}}),Object(n.jsx)(u.a,{path:"/timeline",render:function(){return Object(n.jsx)(V,{meta_data:t.metaData,build_time:t.buildTime,build_time_ref:t.buildTimeRef,hw_trend:t.hwTrend})}}),Object(n.jsx)(u.a,{path:"/timecompare",render:function(){return Object(n.jsx)(ce,{meta_data:t.metaData,build_time:t.buildTime,build_time_ref:t.buildTimeRef})}}),Object(n.jsx)(u.a,{render:function(){return Object(n.jsx)(S,{meta_data:t.metaData})}})]})})}))}})})},Oe={display:"flex",alignItems:"left"};var ge=function(){var e=Object(i.useState)(null),t=Object(s.a)(e,2),a=t[0],r=t[1],c=window.location.pathname.split("/");(c=c.splice(0,c.length-1).join("/"))&&""!==c||(c=".");var l="".concat(".");l.startsWith("./")?l=l.slice(2):l.startsWith("/")&&(l=l.slice(1));var d=c+"/"+l+"/sample_data/datasets/default/";return Object(i.useEffect)((function(){}),[]),null==a?Object(n.jsxs)("div",{className:"App",id:"outer-container",children:[Object(n.jsx)(o,{data_prepared:a,onChange:function(e){r(e)},public_data_location:d}),Object(n.jsx)("div",{style:Oe,children:"Waiting..."})]}):Object(n.jsx)(ve,{data_prepared:a})};l.a.render(Object(n.jsx)(ge,{}),document.getElementById("root"))}},[[975,1,2]]]);